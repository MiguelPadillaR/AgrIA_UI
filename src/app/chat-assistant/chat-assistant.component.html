<div class="chat-window" #chat>
  @for (msg of chatHistory; track $index) {
    <div class="message {{ msg.role }}">
      <div class="bubble">
        @if (msg.loading) {
          <img src="message-icon.png" class="typing-icon" alt="Assistant is thinking...">
        } @else {
          {{ msg.revealProgress ?? msg.content }}
        }
      </div>
    </div>
  }
  <div #scrollAnchor></div> 
</div>